<!DOCTYPE html>
<html lang="en">
    <head>
        <title>Component System - bearcat</title>
        <meta charset="utf-8">
        <meta name="description" content="bearcat - magic, expressive javaScript objects powered world.">
        <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
        <link href='http://fonts.googleapis.com/css?family=Source+Sans+Pro:400,600|Lato|Inconsolata' rel='stylesheet' type='text/css'>
        <link rel="icon" href="/images/logo.png" type="image/x-icon">
        <script>
            window.PAGE_TYPE = "guide"
        </script>
        <link rel="stylesheet" href="/bearcatjs.org/css/page.css" type="text/css">

        <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-46852172-1', 'bearcatjs.org');
  ga('send', 'pageview');
</script>
        <script src="/js/vue.min.js"></script>
    </head>
    <body>
        <div id="mobile-bar">
            <a class="menu-button"></a>
            <a class="logo" href="/"></a>
        </div>
        
        
            <div id="header">
    <a id="logo" href="/">
        <img src="/images/logo.png">
        <span>bearcat</span>
    </a>
    <ul id="nav">
        <li><a href="/guide/" class="nav-link current">Guide</a></li>
<li><a href="/api/" class="nav-link">API Reference</a></li>
<li><a href="/examples/" class="nav-link">Examples</a></li>
<li><a href="/blog/" class="nav-link">Blog</a></li>
<li><a href="https://github.com/yyx990803/vue" target="_blank" class="nav-link">GitHub</a></li>
    </ul>
</div>
        

        <div id="main">
            
                
    <div class="sidebar">
    <ul class="main-menu">
        <li><a href="/guide/" class="nav-link current">Guide</a></li>
<li><a href="/api/" class="nav-link">API Reference</a></li>
<li><a href="/examples/" class="nav-link">Examples</a></li>
<li><a href="/blog/" class="nav-link">Blog</a></li>
<li><a href="https://github.com/yyx990803/vue" target="_blank" class="nav-link">GitHub</a></li>
    </ul>
    <div class="list">
        <h2>Guide</h2>
        <ul class="menu-root">
            
                <li><a href="/guide/installation.html" class="sidebar-link">Installation</a></li>
            
                <li><a href="/guide/index.html" class="sidebar-link">Getting Started</a></li>
            
                <li><a href="/guide/directives.html" class="sidebar-link">Directives</a></li>
            
                <li><a href="/guide/filters.html" class="sidebar-link">Filters</a></li>
            
                <li><a href="/guide/list.html" class="sidebar-link">Displaying a List</a></li>
            
                <li><a href="/guide/events.html" class="sidebar-link">Listening for Events</a></li>
            
                <li><a href="/guide/forms.html" class="sidebar-link">Handling Forms</a></li>
            
                <li><a href="/guide/computed.html" class="sidebar-link">Computed Properties</a></li>
            
                <li><a href="/guide/custom-directive.html" class="sidebar-link">Custom Directives</a></li>
            
                <li><a href="/guide/custom-filter.html" class="sidebar-link">Custom Filters</a></li>
            
                <li><a href="/guide/components.html" class="sidebar-link current">Component System</a></li>
            
                <li><a href="/guide/transitions.html" class="sidebar-link">Transitions</a></li>
            
                <li><a href="/guide/application.html" class="sidebar-link">Building Larger Apps</a></li>
            
                <li><a href="/guide/extending.html" class="sidebar-link">Extending Vue</a></li>
            
                <li><a href="/guide/faq.html" class="sidebar-link">Common FAQs</a></li>
            
            <li><a href="http://legacy.vuejs.org">Looking for 0.10 docs?</a></li>
            <li style="margin:10px 0 3px">
              <script data-gittip-username="yyx990803"
                data-gittip-widget="button"
                src="//gttp.co/v1.js"></script>
            </li>
        </ul>
    </div>
</div>

<div class="content guide with-sidebar">
    <h1>Component System</h1>
    <div id="ad">
        <script async type="text/javascript" src="//cdn.carbonads.com/carbon.js?zoneid=1673&serve=C6AILKT&placement=vuejs" id="_carbonads_js"></script>
    </div>
    <h2 id="Using_Components">Using Components</h2>
<p>Vue.js allows you to treat extended Vue subclasses as reusable components that are conceptually similar to <a href="http://www.w3.org/TR/components-intro/" target="_blank" rel="external">Web Components</a>, without requiring any polyfills. To create a component, just create a subclass constructor of Vue using <code>Vue.extend()</code>:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// Extend Vue to get a reusable constructor</span></div><div class="line"><span class="keyword">var</span> MyComponent = Vue.extend({</div><div class="line">  template: <span class="string">'A custom component!'</span></div><div class="line">})</div></pre></td></tr></table></figure>

<p>Most of the options that can be passed into the Vue constructor can be used in <code>Vue.extend()</code>, however, there are two special cases, <code>data</code> and <code>el</code>. Since each Vue instance should have its own <code>$data</code> and <code>$el</code>, we obviously don’t want the value we passed into <code>Vue.extend()</code> to be shared across all instances created from that constructor. So when you want to define how a component should initalize its default data or element, you should pass in a function instead:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> ComponentWithDefaultData = Vue.extend({</div><div class="line">  data: <span class="function"><span class="keyword">function</span> <span class="params">()</span> </span>{</div><div class="line">    <span class="keyword">return</span> {</div><div class="line">      title: <span class="string">'Hello!'</span></div><div class="line">    }</div><div class="line">  }</div><div class="line">})</div></pre></td></tr></table></figure>

<p>Then, you can <strong>register</strong> that constructor with <code>Vue.component()</code>:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// Register the constructor with id: my-component</span></div><div class="line">Vue.component(<span class="string">'my-component'</span>, MyComponent)</div></pre></td></tr></table></figure>

<p>To make things easier, you can also directly pass in the option object instead of an actual constructor. <code>Vue.component()</code> will implicitly call <code>Vue.extend()</code> for you if it receives an object:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// Note: this method returns the global Vue,</span></div><div class="line"><span class="comment">// not the registered constructor.</span></div><div class="line">Vue.component(<span class="string">'my-component'</span>, {</div><div class="line">  template: <span class="string">'A custom component!'</span></div><div class="line">})</div></pre></td></tr></table></figure>

<p>Then you can use the registered component in a parent instance’s template (make sure the component is registered <strong>before</strong> you instantiate your root Vue instance):</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="comment">&lt;!-- inside parent template --&gt;</span></div><div class="line"><span class="tag">&lt;<span class="title">div</span> <span class="attribute">v-component</span>=<span class="value">"my-component"</span>&gt;</span><span class="tag">&lt;/<span class="title">div</span>&gt;</span></div></pre></td></tr></table></figure>

<p>If you prefer, components can also be used in the form of a custom element tag:</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="title">my-component</span>&gt;</span><span class="tag">&lt;/<span class="title">my-component</span>&gt;</span></div></pre></td></tr></table></figure>

<p class="tip">To avoid naming collisions with native elements and stay consistent with the W3C Custom Elements specification, the component’s ID <strong>must</strong> contain a hyphen <code>-</code> to be usable as a custom tag.</p>

<p>It is important to understand the difference between <code>Vue.extend()</code> and <code>Vue.component()</code>. Since <code>Vue</code> itself is a constructor, <code>Vue.extend()</code> is a <strong>class inheritance method</strong>. Its task is to create a sub-class of <code>Vue</code> and return the constructor. <code>Vue.component()</code>, on the other hand, is an <strong>asset registration method</strong> similar to <code>Vue.directive()</code> and <code>Vue.filter()</code>. Its task is to associate a given constructor with a string ID so Vue.js can pick it up in templates. When directly passing in options to <code>Vue.component()</code>, it calls <code>Vue.extend()</code> under the hood.</p>
<p>Vue.js supports two different API paradigms: the class-based, imperative, Backbone style API, and the markup-based, declarative, Web Components style API. If you are confused, think about how you can create an image element with <code>new Image()</code>, or with an <code>&lt;img&gt;</code> tag. Each is useful in its own right and Vue.js provides both for maximum flexibility.</p>
<h2 id="Data_Inheritance">Data Inheritance</h2>
<h3 id="Explicit_Data_Passing">Explicit Data Passing</h3>
<p>By default, components have <strong>isolated scope</strong>. This means you cannot reference parent data in a child component’s template. To explicitly pass data to child components with isolated scope, we can use the <code>v-with</code> directive.</p>
<h4 id="Passing_Down_Child_$data">Passing Down Child <code>$data</code></h4>
<p>When given a single keypath without an argument, the corresponding value on the parent will be passed down to the child as its <code>$data</code>. This means the passed-down value must be an object, and it will overwrite the default <code>$data</code> object the child component might have.</p>
<p><strong>Example:</strong></p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="title">div</span> <span class="attribute">id</span>=<span class="value">"demo-1"</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="title">p</span> <span class="attribute">v-component</span>=<span class="value">"user-profile"</span> <span class="attribute">v-with</span>=<span class="value">"user"</span>&gt;</span><span class="tag">&lt;/<span class="title">p</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="title">div</span>&gt;</span></div></pre></td></tr></table></figure>



<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// registering the component first</span></div><div class="line">Vue.component(<span class="string">'user-profile'</span>, {</div><div class="line">  template: <span class="string">'{&#123;name&#125;}&lt;br&gt;{&#123;email&#125;}'</span></div><div class="line">})</div><div class="line"><span class="comment">// the `user` object will be passed to the child</span></div><div class="line"><span class="comment">// component as its $data</span></div><div class="line"><span class="keyword">var</span> parent = <span class="keyword">new</span> Vue({</div><div class="line">  el: <span class="string">'#demo-1'</span>,</div><div class="line">  data: {</div><div class="line">    user: {</div><div class="line">      name: <span class="string">'Foo Bar'</span>,</div><div class="line">      email: <span class="string">'foo@bar.com'</span></div><div class="line">    }</div><div class="line">  }</div><div class="line">})</div></pre></td></tr></table></figure>

<p><strong>Result:</strong></p>
<p><div id="demo-1" class="demo"><p v-component="user-profile" v-with="user"></p></div></p>
<script>
  Vue.component('user-profile', {
    template: '{&#123;name&#125;}<br>{&#123;email&#125;}'
  })
  var parent = new Vue({
    el: '#demo-1',
    data: {
      user: {
        name: 'Foo Bar',
        email: 'foo@bar.com'
      }
    }
  })
</script>

<h4 id="Passing_Down_Individual_Properties">Passing Down Individual Properties</h4>
<p><code>v-with</code> can also be used with an argument in the form of <code>v-with=&quot;childProp: parentProp&quot;</code>. This means passing down <code>parent[parentProp]</code> to the child as <code>child[childProp]</code>. Note this data inheritance is one-way: when <code>parentProp</code> changes, <code>childProp</code> will be updated accordingly, however not the other way around.</p>
<p><strong>Example:</strong></p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="title">div</span> <span class="attribute">id</span>=<span class="value">"demo-2"</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="title">input</span> <span class="attribute">v-model</span>=<span class="value">"parentMsg"</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="title">p</span> <span class="attribute">v-component</span>=<span class="value">"child"</span> <span class="attribute">v-with</span>=<span class="value">"childMsg : parentMsg"</span>&gt;</span></div><div class="line">    <span class="comment">&lt;!-- essentially means "bind `parentMsg` on me as `childMsg`" --&gt;</span></div><div class="line">  <span class="tag">&lt;/<span class="title">p</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="title">div</span>&gt;</span></div></pre></td></tr></table></figure>



<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">new</span> Vue({</div><div class="line">  el: <span class="string">'#demo-2'</span>,</div><div class="line">  data: {</div><div class="line">    parentMsg: <span class="string">'Inherited message'</span></div><div class="line">  },</div><div class="line">  components: {</div><div class="line">    child: {</div><div class="line">      template: <span class="string">'&lt;span&gt;{&#123;childMsg&#125;}&lt;/span&gt;'</span></div><div class="line">    }</div><div class="line">  }</div><div class="line">})</div></pre></td></tr></table></figure>

<p><strong>Result:</strong></p>
<p><div id="demo-2" class="demo"><input v-model="parentMsg"><p v-component="child" v-with="childMsg:parentMsg"></p></div></p>
<script>
new Vue({
  el: '#demo-2',
  data: {
    parentMsg: 'Inherited message'
  },
  components: {
    child: {
      template: '<span v-text="childMsg"></span>'
    }
  }
})
</script>

<h4 id="Using_paramAttributes">Using <code>paramAttributes</code></h4>
<p>It is also possible to use the <a href="/api/options.html#paramAttributes"><code>paramAttributes</code></a> option, which compiles into <code>v-with</code>, to expose an interface that looks more like custom elements:</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="title">div</span> <span class="attribute">id</span>=<span class="value">"demo-3"</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="title">input</span> <span class="attribute">v-model</span>=<span class="value">"parentMsg"</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="title">child-component</span> <span class="attribute">child-msg</span>=<span class="value">"parentMsg"</span>&gt;</span><span class="tag">&lt;/<span class="title">p</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="title">div</span>&gt;</span></div></pre></td></tr></table></figure>



<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">new</span> Vue({</div><div class="line">  el: <span class="string">'#demo-3'</span>,</div><div class="line">  data: {</div><div class="line">    parentMsg: <span class="string">'Inherited message'</span></div><div class="line">  },</div><div class="line">  components: {</div><div class="line">    <span class="string">'child-component'</span>: {</div><div class="line">      paramAttributes: [<span class="string">'child-msg'</span>],</div><div class="line">      <span class="comment">// dashed attributes are camelized,</span></div><div class="line">      <span class="comment">// so 'child-msg' becomes 'this.childMsg'</span></div><div class="line">      template: <span class="string">'&lt;span&gt;{&#123;childMsg&#125;}&lt;/span&gt;'</span></div><div class="line">    }</div><div class="line">  }</div><div class="line">})</div></pre></td></tr></table></figure>

<h3 id="Scope_Inheritance">Scope Inheritance</h3>
<p>If you want, you can also use the <code>inherit: true</code> option for your child component to make it prototypally inherit all parent properties:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> parent = <span class="keyword">new</span> Vue({</div><div class="line">  data: {</div><div class="line">    a: <span class="number">1</span></div><div class="line">  }</div><div class="line">})</div><div class="line"><span class="comment">// $addChild() is an instance method that allows you to</span></div><div class="line"><span class="comment">// programatically create a child instance.</span></div><div class="line"><span class="keyword">var</span> child = parent.$addChild({</div><div class="line">  inherit: <span class="literal">true</span>,</div><div class="line">  data: {</div><div class="line">    b: <span class="number">2</span></div><div class="line">  }</div><div class="line">})</div><div class="line"><span class="built_in">console</span>.log(child.a) <span class="comment">// -&gt; 1</span></div><div class="line"><span class="built_in">console</span>.log(child.b) <span class="comment">// -&gt; 2</span></div><div class="line">parent.a = <span class="number">3</span></div><div class="line"><span class="built_in">console</span>.log(child.a) <span class="comment">// -&gt; 3</span></div></pre></td></tr></table></figure>

<p>Note this comes with a caveat: because data properties on Vue instances are getter/setters, setting <code>child.a = 2</code> will change <code>parent.a</code> instead of creating a new property on the child shadowing the parent one:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">child.a = <span class="number">4</span></div><div class="line"><span class="built_in">console</span>.log(parent.a) <span class="comment">// -&gt; 4</span></div><div class="line"><span class="built_in">console</span>.log(child.hasOwnProperty(<span class="string">'a'</span>)) <span class="comment">// -&gt; false</span></div></pre></td></tr></table></figure>

<h3 id="A_Note_on_Scope">A Note on Scope</h3>
<p>When a component is used in a parent template, e.g.:</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="comment">&lt;!-- parent template --&gt;</span></div><div class="line"><span class="tag">&lt;<span class="title">div</span> <span class="attribute">v-component</span> <span class="attribute">v-show</span>=<span class="value">"active"</span> <span class="attribute">v-on</span>=<span class="value">"click:onClick"</span>&gt;</span><span class="tag">&lt;/<span class="title">div</span>&gt;</span></div></pre></td></tr></table></figure>

<p>The directives here (<code>v-show</code> and <code>v-on</code>) will be compiled in the parent’s scope, so the value of <code>active</code> and <code>onClick</code> will be resolved against the parent. Any directives/interpolations inside the child’s template will be compiled in the child’s scope. This ensures a cleaner separation between parent and child components.</p>
<p>This rule also applies to <a href="#Content_Insertion">content insertion</a>, as explained later in this guide.</p>
<h2 id="Component_Lifecycle">Component Lifecycle</h2>
<p>Every component, or Vue instance, has its own lifecycle: it will be created, compiled, inserted or detached, and finally destroyed. At each of these key moments the instance will emit corresponding events, and when creating an instance or defining a component, we can pass in lifecycle hook functions to react to these events. For example:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> MyComponent = Vue.extend({</div><div class="line">  created: <span class="function"><span class="keyword">function</span> <span class="params">()</span> </span>{</div><div class="line">    <span class="built_in">console</span>.log(<span class="string">'An instance of MyComponent has been created!'</span>)</div><div class="line">  }</div><div class="line">})</div></pre></td></tr></table></figure>

<p>Check out the API reference for a <a href="/api/options.html#Lifecycle">full list of lifecycle hooks</a> that are availble.</p>
<h2 id="Dynamic_Components">Dynamic Components</h2>
<p>You can dynamically switch between components by using Mustache tags inside the <code>v-component</code> direcitve, which can be used together with routers to achieve “page switching”:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">new</span> Vue({</div><div class="line">  el: <span class="string">'body'</span>,</div><div class="line">  data: {</div><div class="line">    currentView: <span class="string">'home'</span></div><div class="line">  },</div><div class="line">  components: {</div><div class="line">    home: { <span class="comment">/* ... */</span> },</div><div class="line">    posts: { <span class="comment">/* ... */</span> },</div><div class="line">    archive: { <span class="comment">/* ... */</span> }</div><div class="line">  }</div><div class="line">})</div></pre></td></tr></table></figure>



<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="title">div</span> <span class="attribute">v-component</span>=<span class="value">"{&#123;currentView&#125;}"</span>&gt;</span></div><div class="line">  <span class="comment">&lt;!-- content changes when vm.currentview changes! --&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="title">div</span>&gt;</span></div></pre></td></tr></table></figure>

<p>If you want to keep the switched-out components alive so that you can preserve its state or avoid re-rendering, you can add a <code>keep-alive</code> directive param:</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="title">div</span> <span class="attribute">v-component</span>=<span class="value">"{&#123;currentView&#125;}"</span> <span class="attribute">keep-alive</span>&gt;</span></div><div class="line">  <span class="comment">&lt;!-- inactive components will be cached! --&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="title">div</span>&gt;</span></div></pre></td></tr></table></figure>

<h3 id="Transition_Control">Transition Control</h3>
<p>There are two additional attribute parameters that allows advanced control of how dynamic components should transition from one to another.</p>
<h4 id="wait-for"><code>wait-for</code></h4>
<p>An event name to wait for on the incoming child component before switching it with the current component. This allows you to wait for asynchronous data to be loaded before triggering the transition to avoid unwanted flash of emptiness in between.</p>
<p><strong>Example:</strong></p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="title">div</span> <span class="attribute">v-component</span>=<span class="value">""</span> <span class="attribute">wait-for</span>=<span class="value">"data-loaded"</span>&gt;</span><span class="tag">&lt;/<span class="title">div</span>&gt;</span></div></pre></td></tr></table></figure>



<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// component definition</span></div><div class="line">{</div><div class="line">  <span class="comment">// fetch data and fire the event asynchronously in the</span></div><div class="line">  <span class="comment">// compiled hook. Using jQuery just for example.</span></div><div class="line">  compiled: <span class="function"><span class="keyword">function</span> <span class="params">()</span> </span>{</div><div class="line">    <span class="keyword">var</span> self = <span class="keyword">this</span></div><div class="line">    $.ajax({</div><div class="line">      <span class="comment">// ...</span></div><div class="line">      success: <span class="function"><span class="keyword">function</span> <span class="params">(data)</span> </span>{</div><div class="line">        self.$data = data</div><div class="line">        self.$emit(<span class="string">'data-loaded'</span>)</div><div class="line">      }</div><div class="line">    })</div><div class="line">  }</div><div class="line">}</div></pre></td></tr></table></figure>

<h4 id="transition-mode"><code>transition-mode</code></h4>
<p>By default, the transitions for incoming and outgoing components happen simultaneously. This param allows you to configure two other modes:</p>
<ul>
<li><code>in-out</code>: New component transitions in first, current component transitions out after incoming transition has finished.</li>
<li><code>out-in</code>: Current component transitions out first, new componnent transitions in after outgoing transition has finished.</li>
</ul>
<p><strong>Example</strong></p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="comment">&lt;!-- fade out first, then fade in --&gt;</span></div><div class="line"><span class="tag">&lt;<span class="title">div</span> <span class="attribute">v-component</span>=<span class="value">""</span></span></div><div class="line">  <span class="attribute">v-transition</span>=<span class="value">"fade"</span></div><div class="line">  <span class="attribute">transition-mode</span>=<span class="value">"out-in"</span>&gt;</div><div class="line"><span class="tag">&lt;/<span class="title">div</span>&gt;</span></div></pre></td></tr></table></figure>

<h2 id="List_and_Components">List and Components</h2>
<p>For an Array of Objects, you can combine <code>v-component</code> with <code>v-repeat</code>. In this case, for each Object in the Array, a child ViewModel will be created using that Object as data, and the specified component as the constructor.</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="title">ul</span> <span class="attribute">id</span>=<span class="value">"demo-4"</span>&gt;</span></div><div class="line">  <span class="comment">&lt;!-- reusing the user-profile component we registered before --&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="title">li</span> <span class="attribute">v-repeat</span>=<span class="value">"users"</span> <span class="attribute">v-component</span>=<span class="value">"user-profile"</span>&gt;</span><span class="tag">&lt;/<span class="title">li</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="title">ul</span>&gt;</span></div></pre></td></tr></table></figure>



<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> parent2 = <span class="keyword">new</span> Vue({</div><div class="line">  el: <span class="string">'#demo-4'</span>,</div><div class="line">  data: {</div><div class="line">    users: [</div><div class="line">      {</div><div class="line">        name: <span class="string">'Chuck Norris'</span>,</div><div class="line">        email: <span class="string">'chuck@norris.com'</span></div><div class="line">      },</div><div class="line">      {</div><div class="line">        name: <span class="string">'Bruce Lee'</span>,</div><div class="line">        email: <span class="string">'bruce@lee.com'</span></div><div class="line">      }</div><div class="line">    ]</div><div class="line">  }</div><div class="line">})</div></pre></td></tr></table></figure>

<p><strong>Result:</strong></p>
<p><ul id="demo-4" class="demo"><li v-repeat="users" v-component="user-profile"></li></ul></p>
<script>
var parent2 = new Vue({
  el: '#demo-4',
  data: {
    users: [
      {
        name: 'Chuck Norris',
        email: 'chuck@norris.com'
      },
      {
        name: 'Bruce Lee',
        email: 'bruce@lee.com'
      }
    ]
  }
})
</script>

<h2 id="Child_Reference">Child Reference</h2>
<p>Sometimes you might need to access nested child components in JavaScript. To enable that you have to assign a reference ID to the child component using <code>v-ref</code>. For example:</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="title">div</span> <span class="attribute">id</span>=<span class="value">"parent"</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="title">div</span> <span class="attribute">v-component</span>=<span class="value">"user-profile"</span> <span class="attribute">v-ref</span>=<span class="value">"profile"</span>&gt;</span><span class="tag">&lt;/<span class="title">div</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="title">div</span>&gt;</span></div></pre></td></tr></table></figure>



<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> parent = <span class="keyword">new</span> Vue({ el: <span class="string">'#parent'</span> })</div><div class="line"><span class="comment">// access child component</span></div><div class="line"><span class="keyword">var</span> child = parent.$.profile</div></pre></td></tr></table></figure>

<p>When <code>v-ref</code> is used together with <code>v-repeat</code>, the value you get will be an Array containing the child components mirroring the data Array.</p>
<h2 id="Event_System">Event System</h2>
<p>Although you can directly access a ViewModels children and parent, it is more convenient to use the built-in event system for cross-component communication. It also makes your code less coupled and easier to maintain. Once a parent-child relationship is established, you can dispatch and trigger events using each ViewModel’s <a href="/api/instance-methods.html#Events">event instance methods</a>.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> Child = Vue.extend({</div><div class="line">  created: <span class="function"><span class="keyword">function</span> <span class="params">()</span> </span>{</div><div class="line">    <span class="keyword">this</span>.$dispatch(<span class="string">'child-created'</span>, <span class="keyword">this</span>)</div><div class="line">  }</div><div class="line">})</div><div class="line"></div><div class="line"><span class="keyword">var</span> parent = <span class="keyword">new</span> Vue({</div><div class="line">  template: <span class="string">'&lt;div v-component="child"&gt;&lt;/div&gt;'</span>,</div><div class="line">  components: {</div><div class="line">    child: Child</div><div class="line">  },</div><div class="line">  created: <span class="function"><span class="keyword">function</span> <span class="params">()</span> </span>{</div><div class="line">    <span class="keyword">this</span>.$on(<span class="string">'child-created'</span>, <span class="function"><span class="keyword">function</span> <span class="params">(child)</span> </span>{</div><div class="line">      <span class="built_in">console</span>.log(<span class="string">'new child created: '</span>)</div><div class="line">      <span class="built_in">console</span>.log(child)</div><div class="line">    })</div><div class="line">  }</div><div class="line">})</div></pre></td></tr></table></figure>

<script>
var Child = Vue.extend({
  created: function () {
    this.$dispatch('child-created', this)
  }
})

var parent = new Vue({
  el: document.createElement('div'),
  template: '<div v-component="child"></div>',
  components: {
    child: Child
  },
  created: function () {
    this.$on('child-created', function (child) {
      console.log('new child created: ')
      console.log(child)
    })
  }
})
</script>

<h2 id="Private_Assets">Private Assets</h2>
<p>Sometimes a component needs to use assets such as directives, filters and its own child components, but might want to keep these assets encapsulated so the component itself can be reused elsewhere. You can do that using the private assets instantiation options. Private assets will only be accessible by the instances of the owner component and its child components.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// All 5 types of assets</span></div><div class="line"><span class="keyword">var</span> MyComponent = Vue.extend({</div><div class="line">  directives: {</div><div class="line">    <span class="comment">// id : definition pairs same with the global methods</span></div><div class="line">    <span class="string">'private-directive'</span>: <span class="function"><span class="keyword">function</span> <span class="params">()</span> </span>{</div><div class="line">      <span class="comment">// ...</span></div><div class="line">    }</div><div class="line">  },</div><div class="line">  filters: {</div><div class="line">    <span class="comment">// ...</span></div><div class="line">  },</div><div class="line">  components: {</div><div class="line">    <span class="comment">// ...</span></div><div class="line">  },</div><div class="line">  partials: {</div><div class="line">    <span class="comment">// ...</span></div><div class="line">  },</div><div class="line">  effects: {</div><div class="line">    <span class="comment">// ...</span></div><div class="line">  }</div><div class="line">})</div></pre></td></tr></table></figure>

<p>Alternatively, you can add private assets to an existing Component constructor using a chaining API similar to the global asset registration methods:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">MyComponent</div><div class="line">  .directive(<span class="string">'...'</span>, {})</div><div class="line">  .filter(<span class="string">'...'</span>, <span class="function"><span class="keyword">function</span> <span class="params">()</span> </span>{})</div><div class="line">  .component(<span class="string">'...'</span>, {})</div><div class="line">  <span class="comment">// ...</span></div></pre></td></tr></table></figure>

<h2 id="Content_Insertion">Content Insertion</h2>
<p>When creating reusable components, we often need to access and reuse the original content in the hosting element, which are not part of the component (similar to the Angular concept of “transclusion”.) Vue.js implements a content insertion mechanism that is compatible with the current Web Components spec draft, using the special <code>&lt;content&gt;</code> element to serve as insertion points for the original content.</p>
<p class="tip">Note: “transcluded” contents are compiled in the parent component’s scope.</p>

<h3 id="Single_Insertion_Point">Single Insertion Point</h3>
<p>When there is only one <code>&lt;content&gt;</code> tag with no attributes, the entire original content will be inserted at its position in the DOM and replaces it. Anything originally inside the <code>&lt;content&gt;</code> tags is considered <strong>fallback content</strong>. Fallback content will only be displayed if the hosting element is empty and has no content to be inserted. For example:</p>
<p>Template for <code>my-component</code>:</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="title">h1</span>&gt;</span>This is my component!<span class="tag">&lt;/<span class="title">h1</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="title">content</span>&gt;</span>This will only be displayed if no content is inserted<span class="tag">&lt;/<span class="title">content</span>&gt;</span></div></pre></td></tr></table></figure>

<p>Parent markup that uses the component:</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="title">div</span> <span class="attribute">v-component</span>=<span class="value">"my-component"</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="title">p</span>&gt;</span>This is some original content<span class="tag">&lt;/<span class="title">p</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="title">p</span>&gt;</span>This is some more original content<span class="tag">&lt;/<span class="title">p</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="title">div</span>&gt;</span></div></pre></td></tr></table></figure>

<p>The rendered result will be:</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="title">div</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="title">h1</span>&gt;</span>This is my component!<span class="tag">&lt;/<span class="title">h1</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="title">p</span>&gt;</span>This is some original content<span class="tag">&lt;/<span class="title">p</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="title">p</span>&gt;</span>This is some more original content<span class="tag">&lt;/<span class="title">p</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="title">div</span>&gt;</span></div></pre></td></tr></table></figure>

<h3 id="Multiple_Insertion_Points">Multiple Insertion Points</h3>
<p><code>&lt;content&gt;</code> elements have a special attribute, <code>select</code>, which expects a CSS selector. You can have multiple <code>&lt;content&gt;</code> insertion points with different <code>select</code> attributes, and each of them will be replaced by the elements matching that selector from the original content.</p>
<p>Template for <code>multi-insertion-component</code>:</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="title">content</span> <span class="attribute">select</span>=<span class="value">"p:nth-child(3)"</span>&gt;</span><span class="tag">&lt;/<span class="title">content</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="title">content</span> <span class="attribute">select</span>=<span class="value">"p:nth-child(2)"</span>&gt;</span><span class="tag">&lt;/<span class="title">content</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="title">content</span> <span class="attribute">select</span>=<span class="value">"p:nth-child(1)"</span>&gt;</span><span class="tag">&lt;/<span class="title">content</span>&gt;</span></div></pre></td></tr></table></figure>

<p>Parent markup:</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="title">div</span> <span class="attribute">v-component</span>=<span class="value">"multi-insertion-component"</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="title">p</span>&gt;</span>One<span class="tag">&lt;/<span class="title">p</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="title">p</span>&gt;</span>Two<span class="tag">&lt;/<span class="title">p</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="title">p</span>&gt;</span>Three<span class="tag">&lt;/<span class="title">p</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="title">div</span>&gt;</span></div></pre></td></tr></table></figure>

<p>The rendered result will be:</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="title">div</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="title">p</span>&gt;</span>Three<span class="tag">&lt;/<span class="title">p</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="title">p</span>&gt;</span>Two<span class="tag">&lt;/<span class="title">p</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="title">p</span>&gt;</span>One<span class="tag">&lt;/<span class="title">p</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="title">div</span>&gt;</span></div></pre></td></tr></table></figure>

<p>The content insertion mechanism provides fine control over how original content should be manipulated or displayed, making components extremely flexible and composable.</p>
<p>Next: <a href="/guide/transitions.html">Applying Transition Effects</a>.</p>

    <div class="footer">Caught a mistake or want to contribute to the documentation? <a href="https://github.com/vuejs/vuejs.org" target="_blank">Fork this site on Github</a>!</div>
</div>
            
        </div>

        
            <script src="/js/smooth-scroll.min.js"></script>
            <script src="/js/common.js"></script>
        

    </body>
</html>